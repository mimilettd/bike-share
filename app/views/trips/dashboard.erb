<h1>Trip Analytics</h1>

<div>
  <p>Average duration of a ride: <%= Trip.avg_duration_of_a_ride %> minutes</p>
  <p>Longest ride: <%= Trip.longest_ride %> hours</p>
  <p>Shortest ride: <%= Trip.shortest_ride %> seconds</p>
  <p>Station with the most rides as a starting place: <%= (Trip.station_with_most_ride_starts) %></p>
  <p>Station with the most rides as an ending place: <%= (Trip.station_with_most_rides_ends) %></p>
  <p>Month by Month breakdown of number of rides with subtotals for each year: <%= Trip.month_breakdown %></p>
  <p>Most ridden bike with total number of rides for that bike: #<%= Trip.most_ridden_bike %></p>
  <p>Least ridden bike with total number of rides for that bike: #<%= Trip.least_ridden_bike %></p>
  <p>Single date with the highest number of trips with a count of those trips: <%= Trip.date_with_highest_trips %></p>
  <p>Single date with the lowest number of trips with a count of those trips: <%= Trip.date_with_fewest_trips %></p>
  <div id="piechart">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
    // Load google charts
    google.charts.load('current', {'packages':['corechart']});
    google.charts.setOnLoadCallback(drawChart);

    // Draw the chart and set the chart values
    function drawChart() {
      var data = google.visualization.arrayToDataTable([
        ['Subscription Type', 'Breakout'],
        ['Customer', <%= Trip.subscription_info["Customer"] %>],
        ['Subscriber', <%= Trip.subscription_info["Subscriber"] %>],
      ]);

      // Optional; add a title and set the width and height of the chart
      var options = {'title':'User subscription type breakout with both count and percentage:', 'width':500, 'height':200};

      // Display the chart inside the <div> element with id="piechart"
      var chart = new google.visualization.PieChart(document.getElementById('piechart'));
      chart.draw(data, options);
    }
    </script>
  </div>
  <h3> To view the analytics of an individual station, visit the <a href="/stations">station index</a> and view the station you'd like to receive analytics on.</h3>
</div>
